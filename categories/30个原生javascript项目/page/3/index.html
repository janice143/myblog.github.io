<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>分类: 30个原生javascript项目 - iaine&#039;s blog</title><link rel="manifest" href="/myblog.github.io/manifest.json"><meta name="application-name" content="iaine"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="iaine"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="iaine&#039;s blog"><meta property="og:url" content="http://iainespace.work/portfolio"><meta property="og:site_name" content="iaine&#039;s blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://iainespace.work/myblog.github.io/img/og_image.png"><meta property="article:author" content="iaine"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/myblog.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://iainespace.work/portfolio"},"headline":"iaine's blog","image":["http://iainespace.work/myblog.github.io/img/og_image.png"],"author":{"@type":"Person","name":"iaine"},"publisher":{"@type":"Organization","name":"iaine's blog","logo":{"@type":"ImageObject","url":{"text":"Iaine's page"}}},"description":""}</script><link rel="icon" href="/myblog.github.io/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/myblog.github.io/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/myblog.github.io/">Iaine&#039;s page</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/myblog.github.io/">首页</a><a class="navbar-item" href="/myblog.github.io/archives">成就</a><a class="navbar-item" href="/myblog.github.io/categories">分类</a><a class="navbar-item" href="/myblog.github.io/tags">标签</a><a class="navbar-item" href="/myblog.github.io/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/janice143?tab=repositories"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/myblog.github.io/categories">分类</a></li><li class="is-active"><a href="#" aria-current="page">30个原生javascript项目</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-09T12:27:51.000Z" title="2022/1/9 下午8:27:51">2022-01-09</time>发表</span><span class="level-item"><time dateTime="2022-01-10T13:47:53.261Z" title="2022/1/10 下午9:47:53">2022-01-10</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">9 分钟读完 (大约1386个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2022/01/09/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91Go-list-10/">【原生javascript项目】Go list 10</a></h1><div class="content"><blockquote>
<p>作者：©<a target="_blank" rel="noopener" href="https://github.com/janice143?tab=repositories">Iaine 万一</a><br>简介：<a target="_blank" rel="noopener" href="https://courses.wesbos.com/account">30 Day Challenge</a>是 <a target="_blank" rel="noopener" href="https://github.com/wesbos">Wes Bos</a> 设计的一个 30 天原生js编程挑战。项目免费提供了 30 个视频教程、30 个挑战的起始文档和 30 个挑战解决方案源代码。</p>
<p>本项目为第10天的“待办清单”项目，我增加了 <strong>双击删除任务</strong> 、<strong>添加任务</strong>的功能。Have fun with the website! ♪(^∇^*)</p>
</blockquote>
<p>网页效果：<a target="_blank" rel="noopener" href="https://janice143.github.io/goList/">https://janice143.github.io/goList/</a></p>
<p><img src="https://github.com/janice143/myblog.github.io/blob/master/images/js30_Golist10.png?raw=true"></p>
<h2 id="项目描述"><a href="#项目描述" class="headerlink" title="项目描述"></a>项目描述</h2><p>利用一些 <code>checkbox</code> 类型的 <code>input</code> 元素，通过在js中实现特定功能，而设计的待办清单网页。在网页中，可以通过点击checkbox来<strong>标记</strong>任务状态，通过按住shift键可以对任务实现<strong>多项check</strong>。也可以通过点击添加来<strong>增加</strong>任务，完成的任务可以通过<strong>双击实现删除</strong>。</p>
<p>项目重点</p>
<ul>
<li>类型为checkbox的input元素的点击事件，回调函数为<code>clickCheck</code><ul>
<li><em>e</em>.shiftKey</li>
<li>this.checked</li>
<li>标记上一次点击的input，以及多选内部的Input</li>
</ul>
</li>
<li>类型为text的input元素的change事件，回调函数为<code>displayTask</code><ul>
<li>使用createElement创建元素</li>
<li>使用append来在指定结点后添加html</li>
<li>输入文本回车后情况文本，this.value = ‘’</li>
<li>监听双击事件，移除任务</li>
</ul>
</li>
<li>checkbox后面的文本双击事件，回调函数为<code>removeTask</code><ul>
<li><em>e</em>.path[1].remove()</li>
</ul>
</li>
</ul>
<h2 id="项目过程"><a href="#项目过程" class="headerlink" title="项目过程"></a>项目过程</h2><h4 id="html部分"><a href="#html部分" class="headerlink" title="html部分"></a>html部分</h4><ol>
<li>输入文本框input</li>
<li>定位在文本框上的div元素，点击后display: none</li>
<li>四个类名为task-item是checkbox和任务文本p</li>
<li>新添任务的占位标签，新添加的任务将会append在这里</li>
</ol>
<h4 id="Js部分"><a href="#Js部分" class="headerlink" title="Js部分"></a>Js部分</h4><ul>
<li>获取类型为checkbox的所有input，遍历点击事件<ul>
<li>点击事件为<code>clickCheck</code></li>
<li>多选操作的原理</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(e.shiftKey &amp;&amp; <span class="built_in">this</span>.checked)</span><br><span class="line">    inputChecks.forEach(<span class="function"><span class="params">inputCheck</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(inputCheck === <span class="built_in">this</span> || inputCheck === lastChecked);</span><br><span class="line">        <span class="keyword">if</span> (inputCheck === <span class="built_in">this</span> || inputCheck === lastChecked) &#123;</span><br><span class="line">            inBetween = !inBetween;</span><br><span class="line">            <span class="comment">// console.log(&#x27;Starting to check them in between!&#x27;);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// console.log(&#x27;行内是否&#x27;,inBetween);</span></span><br><span class="line">        <span class="keyword">if</span> (inBetween) &#123;</span><br><span class="line">            inputCheck.checked = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>获取所有p元素，遍历双击事件<ul>
<li>双击事件为<code>removeTask</code></li>
<li>找到对应的任务路径，remove即可</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeTask</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.path[<span class="number">1</span>].remove());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>获取类名为add-icon的元素，监听点击事件，点击隐藏</p>
<ul>
<li><p>使页面元素隐藏和显示可以有两种方式：</p>
<ul>
<li>方式1：设置元素style属性中的display</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>);<span class="comment">//选取id为test的元素</span></span><br><span class="line">t.style.display = <span class="string">&#x27;none&#x27;</span>;	<span class="comment">// 隐藏选择的元素</span></span><br><span class="line">t.style.display = <span class="string">&#x27;block&#x27;</span>;	<span class="comment">// 以块级样式显示</span></span><br></pre></td></tr></table></figure>

<ul>
<li>方式2：设置元素style属性中的visibility</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">t.style.visibility = <span class="string">&#x27;hidden&#x27;</span>;	<span class="comment">// 隐藏元素</span></span><br><span class="line">t.style.visibility = <span class="string">&#x27;visible&#x27;</span>;	<span class="comment">// 显示元素</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>二者的区别在于设置display隐藏后不占用原来的位置，而visibility隐藏后元素位置任然被占用。</p>
<ul>
<li><p>获取类型为text的input元素，监听change事件</p>
<ul>
<li>change事件调用<code>displayTask</code></li>
<li><a target="_blank" rel="noopener" href="https://zh.javascript.info/modifying-document">动态插入html</a><ul>
<li>使用createElement创建元素</li>
<li>使用append挂载元素</li>
</ul>
</li>
<li>监听双击事件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayTask</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 使用createElement创建元素</span></span><br><span class="line">    <span class="keyword">const</span> newTaskItem = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    newTaskItem.className = <span class="string">&#x27;new-task-item&#x27;</span>;</span><br><span class="line">    <span class="keyword">const</span> html =</span><br><span class="line">          <span class="string">`</span></span><br><span class="line"><span class="string">&lt;div class=&quot;task-item&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input type=&quot;checkbox&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;p&gt;<span class="subst">$&#123;<span class="built_in">this</span>.value&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line">    newTaskItem.innerHTML = html;</span><br><span class="line">    newTask.append(newTaskItem);</span><br><span class="line">    <span class="comment">// console.log(newTask);</span></span><br><span class="line">    <span class="comment">// console.log(html);</span></span><br><span class="line">    <span class="built_in">this</span>.value = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    newTaskItem.addEventListener(<span class="string">&#x27;dblclick&#x27;</span>,removeTask)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="CSS部分"><a href="#CSS部分" class="headerlink" title="CSS部分"></a>CSS部分</h3><ul>
<li> <code>:checked</code> 选择器</li>
<li>紧邻兄弟组合器：A<code>+</code> B 组合器选择相邻元素，即后一个元素B紧跟在前一个A之后，并且共享同一个父节点</li>
<li>添加删除线  <em>text-decoration</em>: line-through;</li>
</ul>
<h2 id="项目知识点"><a href="#项目知识点" class="headerlink" title="项目知识点"></a>项目知识点</h2><h4 id="DOM-树"><a href="#DOM-树" class="headerlink" title="DOM 树"></a>DOM 树</h4><p>DOM为文档对象模型，每个 HTML 标签都是一个对象。</p>
<p>DOM 将 HTML 表示为标签的树形结构。标签被称为 <strong>元素节点</strong>（或者仅仅是元素），并形成了树状结构：<code>&lt;html&gt;</code> 在根节点，<code>&lt;head&gt;</code> 和 <code>&lt;body&gt;</code> 是其子项，等。元素内的文本形成 <strong>文本节点</strong>，被标记为 <code>＃text</code>。一个文本节点只包含一个字符串。它没有子项，并且总是树的叶子。</p>
<h4 id="利用JS修改文档"><a href="#利用JS修改文档" class="headerlink" title="利用JS修改文档"></a>利用JS修改文档</h4><ul>
<li><p>创建一个元素（DOM节点）</p>
<ul>
<li><code>document.createElement(tag)</code>创建一个新 <strong>元素节点（element node）</strong></li>
<li><code>document.createTextNode(text)</code>创建一个 <strong>文本节点</strong></li>
</ul>
</li>
<li><p>创建 <code>div</code> 分为 3 个步骤：</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建 &lt;div&gt; 元素</span></span><br><span class="line"><span class="keyword">let</span> div = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 将元素的类设置为 &quot;alert&quot;</span></span><br><span class="line">div.className = <span class="string">&quot;alert&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 填充消息内容</span></span><br><span class="line">div.innerHTML = <span class="string">&quot;&lt;strong&gt;Hi there!&lt;/strong&gt; You&#x27;ve read an important message.&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>这时已经创建了该元素。但到目前为止，它还只是在一个名为 <code>div</code> 的变量中，尚未在页面中。所以我们无法在页面上看到它。</p>
<ul>
<li><p><code>append</code>挂载元素</p>
<p>为了让 <code>div</code> 显示出来，我们需要将其插入到 <code>document</code> 中的某处。</p>
<ul>
<li><code>append</code>：<code>document.body.append(div)</code>。</li>
<li><code>node.append(...nodes or strings)</code> —— 在 <code>node</code> <strong>末尾</strong> 插入节点或字符串，</li>
<li><code>node.prepend(...nodes or strings)</code> —— 在 <code>node</code> <strong>开头</strong> 插入节点或字符串，</li>
<li><code>node.before(...nodes or strings)</code> —— 在 <code>node</code> <strong>前面</strong> 插入节点或字符串，</li>
<li><code>node.after(...nodes or strings)</code> —— 在 <code>node</code> <strong>后面</strong> 插入节点或字符串，</li>
<li><code>node.replaceWith(...nodes or strings)</code> —— 将 <code>node</code> 替换为给定的节点或字符串。</li>
</ul>
</li>
</ul>
<blockquote>
<p>JS30的第10个项目圆满完成啦，虽然对原项目做了一些改进，但是整体上也实现了一些我自己的独特功能。PS：中间跳了第7和9个项目，如果有时间我后面会补上滴！</p>
<p>感谢阅读，有问题联系我的邮箱<a href="mailto:&#x31;&#x38;&#x30;&#51;&#x31;&#48;&#53;&#53;&#51;&#x38;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#109;">&#x31;&#x38;&#x30;&#51;&#x31;&#48;&#53;&#53;&#51;&#x38;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#109;</a>.</p>
</blockquote>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-07T12:13:07.000Z" title="2022/1/7 下午8:13:07">2022-01-07</time>发表</span><span class="level-item"><time dateTime="2022-01-10T13:47:47.687Z" title="2022/1/10 下午9:47:47">2022-01-10</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">7 分钟读完 (大约1123个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2022/01/07/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91Canvas-08/">【原生javascript项目】Canvas 08</a></h1><div class="content"><blockquote>
<p>作者：©<a target="_blank" rel="noopener" href="https://github.com/janice143?tab=repositories">Iaine 万一</a><br>简介：<a target="_blank" rel="noopener" href="https://courses.wesbos.com/account">30 Day Challenge</a>是 <a target="_blank" rel="noopener" href="https://github.com/wesbos">Wes Bos</a> 设计的一个 30 天原生js编程挑战。项目免费提供了 30 个视频教程、30 个挑战的起始文档和 30 个挑战解决方案源代码。</p>
<p>本项目为第8天项目，为了更有挑战性，我实现了 <strong>移动端绘图</strong> 、<strong>画笔样式选择</strong>的功能。Have fun with the website! ♪(^∇^*)</p>
</blockquote>
<p>网页效果：<a target="_blank" rel="noopener" href="https://janice143.github.io/myCanvas/">https://janice143.github.io/myCanvas/</a> （画了个嗅嗅，一不小心暴露自己是个魔法师啦，哈哈）</p>
<p><img src="https://github.com/janice143/myblog.github.io/blob/master/images/js30_Canvas08.png?raw=true"></p>
<h2 id="项目描述"><a href="#项目描述" class="headerlink" title="项目描述"></a>项目描述</h2><p>利用html5 中的canvas实现的画板。在<strong>电脑端</strong>可利用鼠标移动点击进行绘图，在<strong>移动端</strong>可以通过触摸移动实现绘图。绘图的笔<strong>颜色</strong>、<strong>粗细</strong>可以调节，选中<strong>橡皮擦</strong>可对局部区域进行修改，<strong>清屏</strong>按钮可以一键清屏。</p>
<p>项目重点</p>
<ul>
<li><p>canvas</p>
<ul>
<li>window.innerWidth</li>
<li>lineJoin、lineWidth、lineCap </li>
<li>strokeColor </li>
<li>beginPath、moveTo、lineTo、stroke()</li>
</ul>
</li>
<li><p>鼠标事件</p>
<ul>
<li>mousemove: <em>e</em>.offsetX, <em>e</em>.offsetY</li>
<li>mouseup</li>
<li>mouseout</li>
<li>mousedown</li>
</ul>
</li>
<li><p>触摸事件</p>
<ul>
<li>touchmove</li>
<li>touchend</li>
<li>touchcancel</li>
<li>touchstart</li>
<li>touch坐标计算的坐标偏移问题</li>
</ul>
</li>
<li><p><em>input</em>标签的change事件</p>
<ul>
<li>this.value</li>
<li>this.name</li>
<li>this.checked</li>
<li>滑块input线性过渡变成非线性过渡</li>
</ul>
</li>
<li><p>css的flex容器属性</p>
<ul>
<li><em>display</em>:flex</li>
<li><em>align-items</em>: center 竖直居中</li>
<li> <em>justify-content</em>: center 水平居中</li>
</ul>
</li>
</ul>
<h2 id="项目过程"><a href="#项目过程" class="headerlink" title="项目过程"></a>项目过程</h2><h4 id="html部分"><a href="#html部分" class="headerlink" title="html部分"></a>html部分</h4><ol>
<li>三个input控件<ul>
<li>颜色 type=”color”</li>
<li>粗细 type=”range”</li>
<li>橡皮擦 type=”checkbox”</li>
</ul>
</li>
<li>canvas标签设置画布</li>
<li>清屏按钮 type=”button”</li>
</ol>
<h4 id="Js部分"><a href="#Js部分" class="headerlink" title="Js部分"></a>Js部分</h4><ul>
<li>获取<code>canvas</code>标签，并设定宽度和高度；获取四个input元素</li>
<li>利用<code>getContext()</code>获取渲染上下文，存储在变量<code>ctx</code>中。<ul>
<li>在二维渲染上下文中，左上点坐标为(0,0)，向右（x轴）向下（y轴）为正</li>
</ul>
</li>
<li>设置初始值<ul>
<li>初始化画笔颜色（<code>ctx.StrokeStyle</code>）粗细（<code>ctx.lineWidth</code>），橡皮擦不选中(<code>eraserChecked = false</code>)；</li>
<li>设置lineCap(线的末端形状）为圆形，lineJoin（两条线段连接处形状）为圆形</li>
</ul>
</li>
<li> 编写<code>updateValue()</code>函数</li>
<li>三个控件input发生改变时，触发事件，调用该函数，更新画笔三个初始值。</li>
<li>编写<code>draw()</code>函数<ul>
<li>设定一个用于标记绘画状态的变量，画或者不画（true or false)</li>
<li>判断是鼠标事件还是触摸事件，返回当前鼠标点和触摸点的坐标</li>
<li>赋值新的画笔参数</li>
<li>绘制前调用<code>beginPath()</code>，设定路径起点、终点</li>
</ul>
</li>
<li>编写<code>clearCanvas()</code>函数<ul>
<li>清屏的原理就是在画布上画满一个白色矩阵</li>
</ul>
</li>
<li>所有input的监听事件，控件中的change事件，清屏是click事件</li>
</ul>
<h4 id="CSS部分"><a href="#CSS部分" class="headerlink" title="CSS部分"></a>CSS部分</h4><p>使用over-flow:hidden来设置页面不动，这点在移动端触摸时显得必不可少。</p>
<h2 id="项目知识点"><a href="#项目知识点" class="headerlink" title="项目知识点"></a>项目知识点</h2><h4 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/html/html5_canvas.asp">Canvas</a></h4><ul>
<li>创建 Canvas 元素</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>通过 JavaScript 来绘制</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canvas&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>基本样式属性<ul>
<li>颜色<code>：strokeStyle</code>：线条描边的颜色，<code>fillStyle</code>：填充的颜色</li>
<li>线型：<code>lineCap</code>：笔触的形状；<code>lineJoin</code>：线条相较的方式；<code>lineWidth</code>：线条的宽度</li>
</ul>
</li>
<li>路径绘制<ul>
<li><code>beginPath()</code>：新建一条路径</li>
<li><code>stroke()</code>：绘制轮廓</li>
<li><code>moveTo()</code>：绘制操作的起点</li>
<li><code>lineTo()</code>：路径的终点</li>
</ul>
</li>
</ul>
<h4 id="触摸屏端坐标偏移问题"><a href="#触摸屏端坐标偏移问题" class="headerlink" title="触摸屏端坐标偏移问题"></a>触摸屏端坐标偏移问题</h4><p>使用鼠标事件在canvas画布上画画，非常容易就能获取到画布上的坐标，使用（e.offsetX，e.offsetY）就行。但是对于移动端的触摸屏，必须利用【页面上的坐标】-【画布左上角的坐标】=【画布上的坐标】公式去计算当前触摸位置坐标。</p>
<p>changedTouches[0].clientX表示当前触摸点在页面上的坐标，e.target.offsetLeft表示画布偏离页面左上角的位置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = e.changedTouches[<span class="number">0</span>].clientX -e.target.offsetLeft;</span><br><span class="line">y = e.changedTouches[<span class="number">0</span>].clientY-e.target.offsetTop;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>JS30的第8个项目圆满完成啦，虽然对原项目做了一些改进，但是整体上也实现了一些我自己的独特功能。PS：发现自己真的很喜欢编程，fun with front end development.希望自己能力越来越强，实现自己的程序员梦想。</p>
<p>感谢阅读，有问题联系我的邮箱<a href="mailto:&#49;&#x38;&#x30;&#x33;&#49;&#48;&#53;&#x35;&#51;&#56;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#109;">&#49;&#x38;&#x30;&#x33;&#49;&#48;&#53;&#x35;&#51;&#56;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#109;</a>.</p>
</blockquote>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-05T16:20:45.000Z" title="2022/1/6 上午12:20:45">2022-01-06</time>发表</span><span class="level-item"><time dateTime="2022-03-25T03:13:12.419Z" title="2022/3/25 上午11:13:12">2022-03-25</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">15 分钟读完 (大约2297个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2022/01/06/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91-Fun-dictionary-06/">【原生javascript项目】 Fun dictionary 06</a></h1><div class="content"><blockquote>
<p>作者：©<a target="_blank" rel="noopener" href="https://github.com/janice143?tab=repositories">Iaine 万一</a><br>简介：30-day vanilla js coding challenge <a target="_blank" rel="noopener" href="https://courses.wesbos.com/account">(30 Day Challenge)</a>是 <a target="_blank" rel="noopener" href="https://github.com/wesbos">Wes Bos</a> 设计的一个 30 天原生js编程挑战。项目免费提供了 30 个视频教程、30 个挑战的起始文档和 30 个挑战解决方案源代码。本项目属于第6天项目，为了更有挑战性，我尝试实现了 <strong>单词查找</strong> 的功能。</p>
<p> Have fun with the website! ♪(^∇^*)</p>
<p>网页效果：<a target="_blank" rel="noopener" href="https://janice143.github.io/funDictionary/">https://janice143.github.io/funDictionary/</a></p>
</blockquote>
<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>在输入框中输入一个单词，会实时匹配现有词库中所有包含该字段的单词（以一定的样式展示），每个单词中，会高亮显示出文本输入框中输入的字段。词库为<a target="_blank" rel="noopener" href="https://gist.githubusercontent.com/BideoWego/60fbd40d5d1f0f1beca11ba95221dd38/raw/58fb4cce910fbf5fa67a2f0f1f619c09d7b1b373/dictionary.json">json数据</a>，在加载页面时，异步获取而来。</p>
<p>项目主要知识点包括：</p>
<ul>
<li>异步操作</li>
<li>数组Array对象的一些方法</li>
<li>正则表达式</li>
<li>CSS transform的一些属性</li>
</ul>
<h2 id="项目过程"><a href="#项目过程" class="headerlink" title="项目过程"></a>项目过程</h2><h4 id="html部分"><a href="#html部分" class="headerlink" title="html部分"></a>html部分</h4><p>设置input标签用来输入单词，ul标签（列表标签）用来展示搜索的结果</p>
<h4 id="JS部分"><a href="#JS部分" class="headerlink" title="JS部分"></a>JS部分</h4><ol>
<li>空数组直接赋值给一个<code>dict</code>变量，用来存储json数据中的词库</li>
<li>使用fetch 方法从网络中异步获取资源，解析 JSON 数据，存入数组<code>dict</code></li>
<li>利用 filter() 方法查找单词<code>wordToMatch</code>，筛选的条件是正则表达式，如果string的match(regex)方法返回不是空，则filter函数返回词库中所有wordToMatch字段的单词<ul>
<li>运用 <code>filter()</code> 过滤数组数据</li>
<li>创建正则表达式，构造过滤条件</li>
<li>match方法匹配</li>
</ul>
</li>
<li>编写匹配输入的函数。在Html中显示匹配的单词，利用map方法按照原始数组元素顺序依次处理元素。<ul>
<li>获取匹配数据</li>
<li>替换关键词放入高亮的标签</li>
<li>构造 HTML 标签数据</li>
<li>将匹配值的 HTML 标签放入 <code>&lt;ul&gt;</code> 中</li>
</ul>
</li>
<li>编写展示匹配结果的函数<ul>
<li>获取匹配数据</li>
<li>利用map方法依次处理元素，替换关键词放入高亮的标签，返回html标签数据</li>
<li>将匹配值的 HTML 标签放入 <code>&lt;ul&gt;</code> 中</li>
</ul>
</li>
<li>获取两个主要 HTML 元素（<code>&lt;input&gt;</code>，<code>&lt;ul&gt;</code>），给 <code>&lt;input&gt;</code> 添加事件监听（<code>change</code>, <code>keyup</code>）</li>
</ol>
<h4 id="CSS部分"><a href="#CSS部分" class="headerlink" title="CSS部分"></a>CSS部分</h4><p>CSS**<code>transform</code>**属性允许旋转，缩放，倾斜或平移给定元素。这是通过修改CSS视觉格式化模型的坐标空间来实现的。</p>
<h2 id="项目知识点"><a href="#项目知识点" class="headerlink" title="项目知识点"></a>项目知识点</h2><h4 id="异步操作"><a href="#异步操作" class="headerlink" title="异步操作"></a>异步操作</h4><p>概念：程序执行任务时分两段进行，执行第一段任务后，执行其他任务，其他任务执行完后接着执行第二段任务。</p>
<p>异步操作的方法：</p>
<ul>
<li>回调函数多重嵌套</li>
</ul>
<p>缺点：出现多重嵌套，代码很容易乱成一团，无法管理，出现callback hell。</p>
<p><strong>示例:</strong> 读取A文件之后，再读取B文件，之后再回到读取A文件后的操作。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(fileA, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">  fs.readFile(fileB, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>Promise</li>
</ul>
<p>它不是新的语法功能，而是一种新的写法。代码从横向发展，变成纵向发展。Promise提供then方法加载回调函数，catch方法捕捉执行过程中抛出的错误。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> readFile = <span class="built_in">require</span>(<span class="string">&#x27;fs-readfile-promise&#x27;</span>);</span><br><span class="line"></span><br><span class="line">readFile(fileA)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> readFile(fileB);</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>参考文档：<a target="_blank" rel="noopener" href="https://wiki.jikexueyuan.com/project/es6/async.html#:~:text=%E6%89%80%E8%B0%93%22%E5%BC%82%E6%AD%A5%22%EF%BC%8C%E7%AE%80%E5%8D%95%E8%AF%B4,%E7%9A%84%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%B0%B1%E5%8F%AB%E5%81%9A%E5%BC%82%E6%AD%A5%E3%80%82">https://wiki.jikexueyuan.com/project/es6/async.html#:~:text=%E6%89%80%E8%B0%93%22%E5%BC%82%E6%AD%A5%22%EF%BC%8C%E7%AE%80%E5%8D%95%E8%AF%B4,%E7%9A%84%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%B0%B1%E5%8F%AB%E5%81%9A%E5%BC%82%E6%AD%A5%E3%80%82</a></p>
<h4 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h4><p>属于Fetch API的一个全局方法。需要接受 <code>url</code> 作为参数，返回值是一个 Promise 对象。若请求成功，这个对象包含了（对应 Request 的）Response，但这只是一个 HTTP 响应。</p>
<p>一个基本的 fetch 请求设置代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">&#x27;http://example.com/movies.json&#x27;</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">  .then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data));</span><br></pre></td></tr></table></figure>

<p>这里通过网络获取一个 JSON 文件并将其打印到控制台。最简单的用法是只提供一个参数用来指明想 <code>fetch()</code> 到的资源路径，然后返回一个包含响应结果的 promise（一个 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Response"><code>Response</code></a> 对象）。</p>
<p>当然它只是一个 HTTP 响应，而不是真的 JSON。为了获取JSON的内容，我们需要使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Response/json"><code>json()</code></a> 方法（该方法返回一个将响应 body 解析成 JSON 的 promise）。</p>
<h4 id="对象转换为数组"><a href="#对象转换为数组" class="headerlink" title="对象转换为数组"></a>对象转换为数组</h4><p>获取的资源data为对象类型，</p>
<p>``{a: ‘The first letter of the English and of many other …tury, wasa sound of the quality of ä (as in far).’, ab: ‘The fifth month of the Jewish year according to th…putation,coinciding nearly with August. W. Smith.’, aback: ‘Backward against the mast;-said of the sails when …uddenly checked, baffled, ordiscomfited. Dickens.’, abaft: ‘Behind; toward the stern from; as, abaft the wheelhouse. Abaftthe beam. See under Beam.’, abalone: ‘A univalve mollusk of the genus Haliotis. The shel…oast of California, clingingclosely to the rocks.’, …}`</p>
<p>想要转换为数组：</p>
<p><code>[0:&#123;a: &#39;The first letter of the English and of many other …tury, wasa sound of the quality of ä (as in far).&#39;&#125;</code></p>
<p><code>1:&#123;ab: &#39;The fifth month of the Jewish year according to th…putation,coinciding nearly with August. W. Smith.&#39;&#125;]</code></p>
<p>代码参考链接：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903602478120967">https://juejin.cn/post/6844903602478120967</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data =&gt; <span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> o = &#123;&#125;;</span><br><span class="line">    o[v] = data[v];</span><br><span class="line">    dict.push(o);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Object.keys方法是JavaScript中用于遍历对象属性的一个方法 。它传入的参数是一个对象，返回的是一个数组，数组中包含的是该对象所有的属性名。</p>
<h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><p>概念：匹配字符串的字符组合模式</p>
<p>创建一个正则表达式有两种方法：</p>
<p>1 使用正则表达式字面量，包含在斜杠之间</p>
<p>2 调用<code>RegExp</code>对象的构造函数</p>
<p>知识参考链接：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions</a></p>
<p>正则表达式可以被用于 <code>RegExp</code> 的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec"><code>exec</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test">test (en-US)</a> 方法以及 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> 的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match">match (en-US)</a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace"><code>replace</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/search">search (en-US)</a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split">split (en-US)</a> 方法。其中match方法是一个在字符串中执行查找匹配的String方法，返回一个数组，在未匹配到时会返回 null。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 匹配单词</span><br><span class="line">    function findWords(wordToMatch,dict)&#123;</span><br><span class="line">        return dict.filter(word =&gt;&#123;</span><br><span class="line">            const regex  = new RegExp(wordToMatch,&#x27;gi&#x27;);// g:global,i:intensive          </span><br><span class="line">            if (Object.keys(word)[0].match(regex))</span><br><span class="line">                return word[Object.keys(word)[0]];</span><br><span class="line">           &#125;)</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>

<h4 id="一些数组和对象方法"><a href="#一些数组和对象方法" class="headerlink" title="一些数组和对象方法"></a>一些数组和对象方法</h4><p>17个实用的JavaScript数组和对象的方法：<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000015301183">https://segmentfault.com/a/1190000015301183</a></p>
<ul>
<li>.filter()<br>创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。</li>
<li>.map()<br>创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。</li>
<li>.reduce()<br>对累加器和数组中的每个元素（从左到右）应用一个函数，将其减少为单个值。</li>
<li>.forEach()<br>对数组的每个元素执行一次提供的函数。</li>
<li>.some()<br>判断数组中的某些元素是否通过由提供的函数实现的测试。</li>
<li>.every()<br>检查是否数组中的每个值都满足条件。</li>
<li>.includes()<br>检查是否一个数组包含一个确定的值。</li>
<li>Array.from()<br>这是一个可以从其他数组或者字符串中创造新array的方法。</li>
<li>Objects.values()<br>返回一个由给定对象自己的所有可枚举属性值的数组。</li>
<li>Objects.keys()<br>返回一个由给定对象的自身可枚举属性组成的数组。</li>
<li>Object.entries()<br>返回一个由一个给定对象的键值对组成的数组。</li>
<li>Array spread<br>在数组中使用扩展运算符（…）可以展开数组中的元素。</li>
<li>Object spread<br>扩展对象允许为一个没有更改的对象添加新的属性和方法（换句话说，创建了一个新对象)</li>
<li>Object.freeze()<br>防止修改现有的对象属性或者向对象添加新的属性和值。</li>
<li>Object.seal()<br>停止将任何新属性添加到对象，但仍允许更改现有属性。</li>
<li>Object.assign()<br>允许将对象组合在一起。</li>
</ul>
<blockquote>
<p>想把我的技术文章写好一点，特意参考其他优秀人的文档，感谢<a target="_blank" rel="noopener" href="https://github.com/soyaine">未枝丫</a>，我觉得他的文档写的不错，特意模仿，顺便挂上他的JS30挑战项目<a target="_blank" rel="noopener" href="https://github.com/soyaine/JavaScript30/tree/master/06%20-%20Type%20Ahead">链接</a>。</p>
<p>感谢阅读，有问题联系我的邮箱<a href="mailto:&#49;&#x38;&#x30;&#51;&#49;&#48;&#53;&#53;&#51;&#x38;&#64;&#x71;&#x71;&#46;&#x63;&#111;&#109;">&#49;&#x38;&#x30;&#51;&#49;&#48;&#53;&#53;&#51;&#x38;&#64;&#x71;&#x71;&#46;&#x63;&#111;&#109;</a>.</p>
</blockquote>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-17T12:10:40.000Z" title="2021/11/17 下午8:10:40">2021-11-17</time>发表</span><span class="level-item"><time dateTime="2021-11-17T13:24:51.345Z" title="2021/11/17 下午9:24:51">2021-11-17</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">7 分钟读完 (大约979个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2021/11/17/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91-Flex-Panel-05/">【原生javascript项目】 Flex Panel 05</a></h1><div class="content"><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本文介绍一个动态放映网页，知识点主要涉及到flex容器，以及元素点击事件。</p>
<p>效果网站：<a target="_blank" rel="noopener" href="https://janice143.github.io/flexPanel/">https://janice143.github.io/flexPanel/</a></p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><h4 id="一、html部分"><a href="#一、html部分" class="headerlink" title="一、html部分"></a>一、html部分</h4><p>主要为5个div元素将网页分为5块，横向排列。每一个div元素中有上中下三个p标签，对应3段话。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panels&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel1 panel&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickOpen(1)&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hey<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Let&#x27;s<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Dance<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel2 panel&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickOpen(2)&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Take<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Receive<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel3 panel&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickOpen(3)&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Experience<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>It<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Today<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel4 panel&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickOpen(4)&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>All<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>You can<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel5 panel&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickOpen(5)&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Life<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>In<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Motion<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="二、css部分"><a href="#二、css部分" class="headerlink" title="二、css部分"></a>二、css部分</h4><p>css代码主要要实现5个div元素均匀横向排列，每个div元素内有对应的背景图片、3个p标签的文本。P标签的文本在每一个div元素中也是左右居中、上下均匀排列。主要是利用了flex容器来实现。</p>
<h4 id="1-flex容器"><a href="#1-flex容器" class="headerlink" title="1 flex容器"></a>1 flex容器</h4><p>参考网站：<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html">https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html</a></p>
<p>采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称”项目”。</p>
<p>容器的属性：</p>
<ul>
<li>flex-direction：项目的排列方向</li>
<li>flex-wrap：默认情况下，项目都排在一条线（又称”轴线”）上。<code>flex-wrap</code>属性定义，如果一条轴线排不下，如何换行。</li>
<li>flex-flow：<code>flex-direction</code>属性和<code>flex-wrap</code>属性的简写形式</li>
<li>justify-content：项目在主轴上的对齐方式</li>
<li>align-items：项目在交叉轴上如何对齐</li>
<li>align-content：定义了多根轴线的对齐方式</li>
</ul>
<p>项目的属性：</p>
<ul>
<li>order：项目的排列顺序，数值越小，排列越靠前</li>
<li>flex-grow：定义项目的放大比例，默认为0</li>
<li>flex-shrink：项目的缩小比例，默认为1</li>
<li>flex-basis： 项目占据的主轴空间</li>
<li>flex：是<code>flex-grow</code>, <code>flex-shrink</code> 和 <code>flex-basis</code>的简写，默认值为<code>0 1 auto</code></li>
<li>align-self：允许单个项目有与其他项目不一样的对齐方式，可覆盖<code>align-items</code>属性</li>
</ul>
<h4 id="2-css字体"><a href="#2-css字体" class="headerlink" title="2 css字体"></a>2 css字体</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://fonts.googleapis.com/css?family=Amatic+SC<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">text-transform: uppercase;</span></span><br><span class="line"><span class="string">font-family: &#x27;Amatic SC&#x27;,cursive;</span></span><br><span class="line"><span class="string">text-shadow: 0 0 4px rgba(0,0,0,0.72),0 0 14px rgba(0,0,0,0.45);</span></span><br></pre></td></tr></table></figure>

<h4 id="3过渡样式"><a href="#3过渡样式" class="headerlink" title="3过渡样式"></a>3过渡样式</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transition</span>:</span><br><span class="line">font-size <span class="number">0.7s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.61</span>,-<span class="number">0.19</span>, <span class="number">0.7</span>,-<span class="number">0.11</span>),</span><br><span class="line">flex <span class="number">0.7s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.61</span>,-<span class="number">0.19</span>, <span class="number">0.7</span>,-<span class="number">0.11</span>),</span><br><span class="line">background <span class="number">0.2s</span>;</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">translateY</span>(-<span class="number">100%</span>);</span><br></pre></td></tr></table></figure>

<h4 id="4-背景图片"><a href="#4-背景图片" class="headerlink" title="4 背景图片"></a>4 背景图片</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-size</span>: cover;</span><br><span class="line"><span class="attribute">background-position</span>: center;</span><br><span class="line"><span class="selector-class">.panel1</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/gYl-UtwNg_I/1500x1500</span>); &#125;</span><br><span class="line"><span class="selector-class">.panel2</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/rFKUFzjPYiQ/1500x1500</span>); &#125;</span><br><span class="line"><span class="selector-class">.panel3</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://images.unsplash.com/photo-1465188162913-8fb5709d6d57?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=faces&amp;cs=tinysrgb&amp;w=1500&amp;h=1500&amp;fit=crop&amp;s=967e8a713a4e395260793fc8c802901d</span>); &#125;</span><br><span class="line"><span class="selector-class">.panel4</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/ITjiVXcwVng/1500x1500</span>); &#125;</span><br><span class="line"><span class="selector-class">.panel5</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/3MNzGlQM7qs/1500x1500</span>); &#125;</span><br></pre></td></tr></table></figure>

<h4 id="5其他"><a href="#5其他" class="headerlink" title="5其他"></a>5其他</h4><p>CSS选择器</p>
<p><code>*</code> 将匹配文档的所有元素；<code>&gt;</code> 组合器选择前一个元素的直接子代的节点。</p>
<p> .panel &gt; *选择类名为panel的所以直接子元素</p>
<h3 id="Js部分"><a href="#Js部分" class="headerlink" title="Js部分"></a>Js部分</h3><p>我写的程序，大致思路是在html代码里设置onclick属性，然后函数内容在js里写，不同的panel传入参数不一样</p>
<p>定位类名有两个以上的标签document.getElementsByClassName(<code>panel$&#123;num&#125; panel-open</code>)；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击panel 12345，给对应的panel添加.panel-open属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clickOpen</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> panelNumIf = <span class="built_in">document</span>.getElementsByClassName(<span class="string">`panel<span class="subst">$&#123;num&#125;</span> panel-open`</span>);</span><br><span class="line">    <span class="keyword">const</span> panelNum = <span class="built_in">document</span>.getElementsByClassName(<span class="string">`panel<span class="subst">$&#123;num&#125;</span>`</span>);</span><br><span class="line">    <span class="comment">// console.log(panelNumIf[0])</span></span><br><span class="line">    <span class="keyword">if</span> (panelNumIf[<span class="number">0</span>])</span><br><span class="line">        panelNumIf[<span class="number">0</span>].classList.remove(<span class="string">&#x27;panel-open&#x27;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        panelNum[<span class="number">0</span>].classList.add(<span class="string">&#x27;panel-open&#x27;</span>);<span class="comment">//添加panel-open类属性</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`panel<span class="subst">$&#123;num&#125;</span> panel-open`</span>);          </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>别人的程序，大致思路是遍历5个Panel，监控是否有点击事件，有的话就运行toggleOpen函数，该函数里 this.classList.toggle(‘open’)表示如果this有open类名，则删除，没有则加上。</p>
<p>e.propertyName获取transitionend的属性名，e.propertyName.includes(‘flex’)包含flex字段的属性名</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.panel&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleOpen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">    <span class="built_in">this</span>.classList.toggle(<span class="string">&#x27;open&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleActive</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.propertyName);</span><br><span class="line">    <span class="keyword">if</span> (e.propertyName.includes(<span class="string">&#x27;flex&#x27;</span>)) &#123;</span><br><span class="line">        <span class="built_in">this</span>.classList.toggle(<span class="string">&#x27;open-active&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">panels.forEach(<span class="function"><span class="params">panel</span> =&gt;</span> panel.addEventListener(<span class="string">&#x27;click&#x27;</span>, toggleOpen));</span><br><span class="line">panels.forEach(<span class="function"><span class="params">panel</span> =&gt;</span> panel.addEventListener(<span class="string">&#x27;transitionend&#x27;</span>, toggleActive));</span><br></pre></td></tr></table></figure>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>完整代码放在了<a target="_blank" rel="noopener" href="https://github.com/janice143/flexPanel">Github</a>上，如果读者有兴趣，不妨试一试。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-15T11:30:39.000Z" title="2021/11/15 下午7:30:39">2021-11-15</time>发表</span><span class="level-item"><time dateTime="2021-11-17T12:11:27.965Z" title="2021/11/17 下午8:11:27">2021-11-17</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">3 分钟读完 (大约497个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2021/11/15/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C-04/">【原生javascript项目】数组操作 04</a></h1><div class="content"><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本文介绍一下数组操作的一些常用方法。</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><h4 id="1创建数组"><a href="#1创建数组" class="headerlink" title="1创建数组"></a>1创建数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> people = [</span><br><span class="line"><span class="string">&#x27;Bernhard, Sandra&#x27;</span>, <span class="string">&#x27;Bethea, Erin&#x27;</span>, <span class="string">&#x27;Becker, Carl&#x27;</span>, <span class="string">&#x27;Bentsen, Lloyd&#x27;</span>, <span class="string">&#x27;Beckett, Samuel&#x27;</span>, <span class="string">&#x27;Blake, William&#x27;</span>, <span class="string">&#x27;Berger, Ric&#x27;</span>, <span class="string">&#x27;Beddoes, Mick&#x27;</span>, <span class="string">&#x27;Beethoven, Ludwig&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Belloc, Hilaire&#x27;</span>, <span class="string">&#x27;Begin, Menachem&#x27;</span>, <span class="string">&#x27;Bellow, Saul&#x27;</span>, <span class="string">&#x27;Benchley, Robert&#x27;</span>, <span class="string">&#x27;Blair, Robert&#x27;</span>, <span class="string">&#x27;Benenson, Peter&#x27;</span>, <span class="string">&#x27;Benjamin, Walter&#x27;</span>, <span class="string">&#x27;Berlin, Irving&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Benn, Tony&#x27;</span>, <span class="string">&#x27;Benson, Leana&#x27;</span>, <span class="string">&#x27;Bent, Silas&#x27;</span>, <span class="string">&#x27;Berle, Milton&#x27;</span>, <span class="string">&#x27;Berry, Halle&#x27;</span>, <span class="string">&#x27;Biko, Steve&#x27;</span>, <span class="string">&#x27;Beck, Glenn&#x27;</span>, <span class="string">&#x27;Bergman, Ingmar&#x27;</span>, <span class="string">&#x27;Black, Elk&#x27;</span>, <span class="string">&#x27;Berio, Luciano&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Berne, Eric&#x27;</span>, <span class="string">&#x27;Berra, Yogi&#x27;</span>, <span class="string">&#x27;Berry, Wendell&#x27;</span>, <span class="string">&#x27;Bevan, Aneurin&#x27;</span>, <span class="string">&#x27;Ben-Gurion, David&#x27;</span>, <span class="string">&#x27;Bevel, Ken&#x27;</span>, <span class="string">&#x27;Biden, Joseph&#x27;</span>, <span class="string">&#x27;Bennington, Chester&#x27;</span>, <span class="string">&#x27;Bierce, Ambrose&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Billings, Josh&#x27;</span>, <span class="string">&#x27;Birrell, Augustine&#x27;</span>, <span class="string">&#x27;Blair, Tony&#x27;</span>, <span class="string">&#x27;Beecher, Henry&#x27;</span>, <span class="string">&#x27;Biondo, Frank&#x27;</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h4 id="2-获取数组长度"><a href="#2-获取数组长度" class="headerlink" title="2 获取数组长度"></a>2 获取数组长度</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(people.length);</span><br></pre></td></tr></table></figure>

<h4 id="3循环"><a href="#3循环" class="headerlink" title="3循环"></a>3循环</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">people.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item,index);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="4-数据尾部添加一个元素"><a href="#4-数据尾部添加一个元素" class="headerlink" title="4 数据尾部添加一个元素"></a>4 数据尾部添加一个元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newLength = people.push(<span class="string">&#x27;Wheeler, Ben&#x27;</span>);<span class="comment">// newLength的结果是people的长度，不是新添加的元素内容</span></span><br><span class="line"><span class="built_in">console</span>.log(people.length);</span><br></pre></td></tr></table></figure>

<h4 id="5-从尾部删除一个元素"><a href="#5-从尾部删除一个元素" class="headerlink" title="5 从尾部删除一个元素"></a>5 从尾部删除一个元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> last = people.pop();</span><br><span class="line"><span class="built_in">console</span>.log(people.length);</span><br></pre></td></tr></table></figure>

<h4 id="6-从头部删除一个元素"><a href="#6-从头部删除一个元素" class="headerlink" title="6 从头部删除一个元素"></a>6 从头部删除一个元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> first = people.shift();</span><br><span class="line"><span class="built_in">console</span>.log(people.length);</span><br></pre></td></tr></table></figure>

<h4 id="7-从提添加一个新元素"><a href="#7-从提添加一个新元素" class="headerlink" title="7 从提添加一个新元素"></a>7 从提添加一个新元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstItem = people.unshift(<span class="string">&#x27;Bernhard, Sandra&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(people);</span><br></pre></td></tr></table></figure>

<h4 id="8-寻找下标"><a href="#8-寻找下标" class="headerlink" title="8 寻找下标"></a>8 寻找下标</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pos = people.indexOf(<span class="string">&#x27;Blair, Tony&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(pos);</span><br></pre></td></tr></table></figure>

<h4 id="9-根据下标删除元素"><a href="#9-根据下标删除元素" class="headerlink" title="9 根据下标删除元素"></a>9 根据下标删除元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> removeItem = people.splice(pos,<span class="number">1</span>);<span class="comment">//参数1表示Pos下标后多少个</span></span><br><span class="line"><span class="built_in">console</span>.log(removeItem);</span><br></pre></td></tr></table></figure>

<h4 id="10-复制数组"><a href="#10-复制数组" class="headerlink" title="10 复制数组"></a>10 复制数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 复制数组 1</span></span><br><span class="line"><span class="keyword">let</span> newPeople1 = people; <span class="comment">//people和newPeople1指向同一个内存</span></span><br><span class="line"><span class="comment">// 复制数组 2</span></span><br><span class="line"><span class="keyword">let</span> newPeople2 = people.slice(); <span class="comment">// people和newPeople1指向不同一个内存</span></span><br></pre></td></tr></table></figure>

<h4 id="11-Index超出数组长度"><a href="#11-Index超出数组长度" class="headerlink" title="11 Index超出数组长度"></a>11 Index超出数组长度</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">people[<span class="number">100</span>] = <span class="string">&#x27;bbb&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(people);</span><br></pre></td></tr></table></figure>

<h4 id="12-Array-prototype-filter-过滤"><a href="#12-Array-prototype-filter-过滤" class="headerlink" title="12 Array.prototype.filter() 过滤"></a>12 Array.prototype.filter() 过滤</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fifteen = inventors.filter(<span class="function"><span class="params">inventor</span>=&gt;</span>(inventor.year&gt;=<span class="number">1500</span> &amp;&amp; inventor.year &lt; <span class="number">1600</span>));</span><br><span class="line"><span class="built_in">console</span>.table(fifteen);</span><br></pre></td></tr></table></figure>

<h4 id="13-Array-prototype-map"><a href="#13-Array-prototype-map" class="headerlink" title="13 Array.prototype.map()"></a>13 Array.prototype.map()</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> fullNames = inventors.map(<span class="function"><span class="params">inventor</span> =&gt;</span> (inventor.first + <span class="string">&#x27; &#x27;</span> + inventor.last));</span><br><span class="line"><span class="keyword">const</span> fullNames2 = inventors.map(<span class="function"><span class="params">inventor</span> =&gt;</span> <span class="string">`<span class="subst">$&#123;inventor.first&#125;</span> <span class="subst">$&#123;inventor.last&#125;</span>`</span>);</span><br><span class="line"><span class="built_in">console</span>.log(fullNames);</span><br><span class="line"><span class="built_in">console</span>.log(fullNames2);</span><br></pre></td></tr></table></figure>

<h4 id="14-Array-prototype-sort"><a href="#14-Array-prototype-sort" class="headerlink" title="14  Array.prototype.sort()"></a>14  Array.prototype.sort()</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 升序</span></span><br><span class="line"><span class="keyword">const</span> ordered = inventors.sort(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a.year &gt; b.year ? <span class="number">1</span> : -<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.table(ordered);</span><br><span class="line"><span class="comment">// 降序</span></span><br><span class="line"><span class="keyword">const</span> oldest = inventors.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> lastInventor = a.passed - a.year;</span><br><span class="line">    <span class="keyword">const</span> nextInventor = b.passed - b.year;</span><br><span class="line">    <span class="keyword">return</span> lastInventor &gt; nextInventor ? -<span class="number">1</span>:<span class="number">1</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.table(oldest);</span><br></pre></td></tr></table></figure>

<h4 id="15-Array-prototype-reduce-结果返回单个值"><a href="#15-Array-prototype-reduce-结果返回单个值" class="headerlink" title="15 Array.prototype.reduce() 结果返回单个值"></a>15 Array.prototype.reduce() 结果返回单个值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.reduce() 结果返回单个值</span></span><br><span class="line"><span class="keyword">const</span> totalYears = inventors.reduce(<span class="function">(<span class="params">total,inventor</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> total + (inventor.passed - inventor.year);</span><br><span class="line">&#125;, <span class="number">0</span>); <span class="comment">// 0表示返回的单个值再加上0</span></span><br><span class="line"><span class="built_in">console</span>.log(totalYears);</span><br><span class="line">            </span><br></pre></td></tr></table></figure>

<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>完整代码放在了<a target="_blank" rel="noopener" href="https://github.com/janice143/arrayOperation">Github</a>上，如果读者有兴趣，不妨试一试。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-13T03:43:56.000Z" title="2021/11/13 上午11:43:56">2021-11-13</time>发表</span><span class="level-item"><time dateTime="2022-05-30T07:07:27.245Z" title="2022/5/30 下午3:07:27">2022-05-30</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">6 分钟读完 (大约897个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2021/11/13/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91Image-Procession-with-Javascipt-03/">【原生javascript项目】Image Procession with Javascipt 03</a></h1><div class="content"><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本文利用javascript更新css变量，实现一个简易的图像处理网页。对于图像处理部分，本网页可调节图像的边框宽度、模糊度以及边框颜色值。</p>
<p>网址为(<a target="_blank" rel="noopener" href="https://janice143.github.io/imageProcessionwithJS/">https://janice143.github.io/imageProcessionwithJS/</a>)</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><h4 id="1-页面布局"><a href="#1-页面布局" class="headerlink" title="1 页面布局"></a>1 页面布局</h4><p>页面分为三部分：标题、三个input组成的控件、图像</p>
<p>通过调节三个Input的值，可以实现对外边距、模糊值和颜色的改变。 </p>
<p>一、html代码</p>
<p>1 标题</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>利用<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text-color&quot;</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">span</span>&gt;</span>更新CSS自定义变量<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://source.unsplash.com/7bwQXzbF6KE/800x500&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2 三个input值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;controlers&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;spacing&quot;</span>&gt;</span>外边距:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;spacing&quot;</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;spacing&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span> <span class="attr">data-unit</span>=<span class="string">&quot;px&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;blur&quot;</span>&gt;</span>模糊值:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;blur&quot;</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;blur&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span> <span class="attr">data-unit</span>=<span class="string">&quot;px&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;color&quot;</span>&gt;</span>底色:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;color&quot;</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">name</span>=<span class="string">&quot;color&quot;</span> <span class="attr">value</span>=<span class="string">&quot;#fecc00&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>data-unit=”px”是自己设置的dataset(数据集合)。</p>
<p>3 图像</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://source.unsplash.com/7bwQXzbF6KE/800x500&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>二、css代码</p>
<p>1 css变量</p>
<p>变量声明：在选择器里（任何选择器），变量名前面要加两根连词线（<code>--</code>）。本文里在:root根元素里声明，这是全局变量的声明方式，保证任何选择器都可以使用。变量名大小写敏感。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span>&#123;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">375px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="built_in">var</span>(--spacing);<span class="comment">/* var函数获取变量 */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--color);</span><br><span class="line">    <span class="attribute">filter</span>:<span class="built_in">blur</span>(<span class="built_in">var</span>(--blur));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>读取变量：利用var()函数读取</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">     --<span class="attribute">color</span>:<span class="number">#fecc00</span>;</span><br><span class="line">     --spacing:<span class="number">10px</span>;</span><br><span class="line">     --blur:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>css变量参考网址：（<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2017/05/css-variables.html%EF%BC%89">https://www.ruanyifeng.com/blog/2017/05/css-variables.html）</a></p>
<p>三、javascript代码</p>
<p>1 suffix中文意思为 后缀。在js代码中，设置了一个suffix变量，这是因为spacing和blur的值在css中需要加上px单位，而color的值没有，所以使用了||逻辑运算。</p>
<p>2 this.dataset需要注意一下，在html代码中，我们设置了自定义了data-unit数据，this.dataset会取出所有自定义的数据集，比如你可以在Html中设置data-key(回想起前几天的js程序）,data-name,data-poo任何数据名字，因为是自定义。this.dataset.unit是本文在html代码中提前设置好的。</p>
<p>3 document.documentElement用来获取当前文档的直接子节点，对于Html文档而言，一般是<html>。</p>
<p>4 style.setProperty(propertyName, value);给css样式某个属性名propertyName赋一个新值value。</p>
<p>5 <code>--$&#123;this.name&#125;</code>为模板字面量，可以嵌入表达式的字符串字面量，${}表示一个占位符。一般的字符串是用单引号或者双引号标注的，这些字符串之间没有任何区别，而模板字面量则可以通过一个占位符来进行插值，模板字面量用反引号``实现。</p>
<p>6 箭头函数优点：剪短、this指向函数定义生效时所在对象。</p>
<p>函数声明：关键字、函数名、参数、函数体</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span> (<span class="params">[arg1 [,arg2 [...,argn]]]</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// functionBody 函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>没有函数名时，函数为匿名函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> square = <span class="function"><span class="keyword">function</span> (<span class="params">number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> number * number;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 相当于箭头函数：number=&gt;number*number;</span></span><br></pre></td></tr></table></figure>

<p>具名函数由函数名，而且函数内部可以代指本身（迭代函数使用）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function"><span class="keyword">function</span> <span class="title">fac</span>(<span class="params">n</span>) </span>&#123;  <span class="keyword">return</span> n &lt; <span class="number">2</span> ? <span class="number">1</span> : n * fac(n - <span class="number">1</span>);&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(factorial(<span class="number">3</span>));</span><br><span class="line"><span class="keyword">var</span> x = square(<span class="number">4</span>);<span class="comment">// x 得到的值为16</span></span><br></pre></td></tr></table></figure>

<p>箭头函数；如果函数体只有一个表达式，可以不用{}符号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取Input的value，并且将value赋值给css</span></span><br><span class="line"><span class="keyword">const</span> inputs = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.controlers input&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateValue</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> suffix = <span class="built_in">this</span>.dataset.unit || <span class="string">&#x27;&#x27;</span>; <span class="comment">// 给blur和spacing加单位</span></span><br><span class="line">    <span class="built_in">document</span>.documentElement.style.setProperty(<span class="string">`--<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>,<span class="built_in">this</span>.value + suffix);</span><br><span class="line">&#125;</span><br><span class="line">inputs.forEach(<span class="function"><span class="params">input</span>=&gt;</span>input.addEventListener(<span class="string">&#x27;change&#x27;</span>,updateValue));</span><br></pre></td></tr></table></figure>

<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>完整代码放在了<a target="_blank" rel="noopener" href="https://github.com/janice143/imageProcessionwithJS">Github</a>上，如果读者有兴趣，不妨试一试。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-12T06:46:15.000Z" title="2021/11/12 下午2:46:15">2021-11-12</time>发表</span><span class="level-item"><time dateTime="2022-05-29T04:19:18.692Z" title="2022/5/29 下午12:19:18">2022-05-29</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">5 分钟读完 (大约759个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2021/11/12/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91Real-time-clock-02/">【原生javascript项目】Real time clock 02</a></h1><div class="content"><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本文利用javascript写一个实时显示时间的时钟特效网页。</p>
<p>网址为(<a target="_blank" rel="noopener" href="https://janice143.github.io/realTImeClock/">https://janice143.github.io/realTImeClock/</a>)</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><h4 id="1网页布局与功能"><a href="#1网页布局与功能" class="headerlink" title="1网页布局与功能"></a>1网页布局与功能</h4><p>网页主体为一个时钟，具有表盘（12个数字）和三个指针（时针、分针、秒针）。</p>
<h4 id="2实现原理"><a href="#2实现原理" class="headerlink" title="2实现原理"></a>2实现原理</h4><p>一、 html代码</p>
<p>使用一个类名为clock为的div容器，里面包含时针.hour-hand,分针.minute-hand,秒针second-hand，以及12个数字。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clock&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hour-hand hand&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;minute-hand hand&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;second-hand hand&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;number&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num12&quot;</span>&gt;</span>12<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num4&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num5&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num6&quot;</span>&gt;</span>6<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num7&quot;</span>&gt;</span>7<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num8&quot;</span>&gt;</span>8<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num9&quot;</span>&gt;</span>9<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num10&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num11&quot;</span>&gt;</span>11<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>二、css代码</p>
<p>1 先让时钟显示在页面的中部（垂直居中，水平居中），这可以用个在clock的上一级词main中设置flex容器。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2 时钟的表盘的样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clock</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">20px</span> solid white;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 指针的样式</p>
<p>指针旋转的特效是由transfrom：rotate(deg)实现的（本文这里是通过js代码后面再设置的）。transform-origin默认是50%，元素会绕着中间旋转，设置成100%后，元素绕着一端旋转。transition-timing-function是设置过渡的时间函数特效，不设置是默认均匀地过渡。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hand</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: blueviolet;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">148px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">148px</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">transition</span>:all <span class="number">0.05s</span>;</span><br><span class="line">    <span class="attribute">transition-timing-function</span>: <span class="built_in">cubic-bezier</span>(<span class="number">0.1</span>, <span class="number">2.7</span>, <span class="number">0.58</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hour-hand</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.second-hand</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4 12个数字的样式</p>
<p>先给数字设置相对定位，相对于上一级.number。然后再给每个数字设置相应的top和left. 数字位置算法为：</p>
<p>  num=2;   top=135<em>sin((num-3)<em>30/180</em>pi)+135；  left=135</em>cos((num-3)<em>30/180</em>pi)+135 （num为1-12的数字）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.number</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>三、 javascript代码</p>
<p>分别获取时针、分钟、秒针的类名，然后通过当前时间给三个指针分配正确的旋转角度。</p>
<p>1 秒针： parseInt(second/60*360)+90;</p>
<p>2 分针： parseInt(minute/(60)*360+second/10)+90;</p>
<p>3 时针：parseInt(hour/(12)*360+minute/(60)*30)+90;</p>
<p>+90度是因为设置指针css样式的时候，指针都在指在9点钟的位置，+90度可让指针从12点为起始点旋转。</p>
<p>设置为指针的角度后，利用定时器每隔一秒刷新指针的位置，这样就可以达到实时显示的效果。</p>
<p>当指针转弯一圈后，重新运行设置时间函数 setDate()重置指针的角度。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取指针的transform样式，从而让其旋转</span></span><br><span class="line">      <span class="keyword">const</span> secondHand = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.second-hand&#x27;</span>);</span><br><span class="line">      <span class="keyword">const</span> minuteHand = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.minute-hand&#x27;</span>);</span><br><span class="line">      <span class="keyword">const</span> hourHand = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.hour-hand&#x27;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;audio&#x27;</span>);</span><br><span class="line">      <span class="comment">// 获取当前时间，从时间里设置指针</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">setDate</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="keyword">const</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">          <span class="keyword">const</span> second = time.getSeconds();</span><br><span class="line">          <span class="keyword">const</span> secondDeg = <span class="built_in">parseInt</span>(second/<span class="number">60</span>*<span class="number">360</span>)+<span class="number">90</span>;</span><br><span class="line">          secondHand.style.transform = <span class="string">`rotate(<span class="subst">$&#123;secondDeg&#125;</span>deg)`</span>;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">const</span> minute= time.getMinutes();</span><br><span class="line">          <span class="keyword">const</span> minuteDeg = <span class="built_in">parseInt</span>(minute/(<span class="number">60</span>)*<span class="number">360</span>+second/<span class="number">10</span>)+<span class="number">90</span>;</span><br><span class="line">          minuteHand.style.transform = <span class="string">`rotate(<span class="subst">$&#123;minuteDeg&#125;</span>deg)`</span>;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">const</span> hour= time.getHours();</span><br><span class="line">          <span class="keyword">const</span> hourDeg = <span class="built_in">parseInt</span>(hour/(<span class="number">12</span>)*<span class="number">360</span>+minute/(<span class="number">60</span>)*<span class="number">30</span>)+<span class="number">90</span>;</span><br><span class="line">          hourHand.style.transform = <span class="string">`rotate(<span class="subst">$&#123;hourDeg&#125;</span>deg)`</span>;</span><br><span class="line">          </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 设置定时器美隔一秒时间进行刷新页面</span></span><br><span class="line">      <span class="built_in">setInterval</span>(setDate,<span class="number">1000</span>);</span><br><span class="line">      <span class="comment">// </span></span><br><span class="line">      setDate(); <span class="comment">// 当指针转一圈后，重置度数</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>完整代码放在了<a target="_blank" rel="noopener" href="https://github.com/janice143/realTImeClock">Github</a>上，如果读者有兴趣，不妨试一试。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-07T11:44:12.000Z" title="2021/11/7 下午7:44:12">2021-11-07</time>发表</span><span class="level-item"><time dateTime="2022-05-28T03:32:21.132Z" title="2022/5/28 上午11:32:21">2022-05-28</time>更新</span><span class="level-item"><a class="link-muted" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">30个原生javascript项目</a></span><span class="level-item">9 分钟读完 (大约1304个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/myblog.github.io/2021/11/07/%E3%80%90%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE%E3%80%91Piano-Kit-01/">【原生javascript项目】Piano-Kit-01</a></h1><div class="content"><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本文介绍如何用javascripty语法写一个简单的琴键(drum ang piano)网页，通过敲击特定键盘（音键），可以发出不同音调。</p>
<p>网址为(<a target="_blank" rel="noopener" href="https://janice143.github.io/musicKit.github.io/">https://janice143.github.io/musicKit.github.io/</a>)</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><h4 id="1网页布局与功能"><a href="#1网页布局与功能" class="headerlink" title="1网页布局与功能"></a>1网页布局与功能</h4><p>网页整体分为3个部分：</p>
<p>1是最顶上居中排布的乐器切换(Drum Kit, Piano Kit)组块，选中响应的kit，背景图和琴键切换为响应的内容，同时kit字体变为白色；</p>
<p>2是页面居中排布的琴键；</p>
<p>3是背景图。</p>
<p>琴键可以通过鼠标点击或者按下响应的键盘来操作，可以发出对应的音效（黄色字体表示音效的名称）。琴键被点击按下后，加以一定的css动画（黄色高亮边框）来区分。</p>
<h4 id="2实现原理"><a href="#2实现原理" class="headerlink" title="2实现原理"></a>2实现原理</h4><p>一、 html代码</p>
<p>1 乐器切换组块：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;switch&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;drum chosen&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;addChosenDrum()&quot;</span>&gt;</span>Drum Kit<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;piano&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;addChosen()&quot;</span>&gt;</span>Piano Kit<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2 Drum Kit:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;pianoKit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;65&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key1 key&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(65)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>DO<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;83&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key2 key&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(83)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>S<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>RE<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;68&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key3 key&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(68)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>D<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>MI<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;70&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key4 key&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(70)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>F<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>FA<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;71&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key5 key&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(71)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>G<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>SOL<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;72&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key6 key&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(72)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>H<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>LA<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;74&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key7 key&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(74)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>J<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>SI<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;65&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/1.MP3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;83&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/2.MP3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;68&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/3.MP3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;70&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/4.MP3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;71&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/5.MP3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;72&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/6.MP3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;74&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/7.MP3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     </span><br></pre></td></tr></table></figure>

<p>3 Piano Kit</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;drumKit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;chosen&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;65&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key1 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(65)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>CLAP<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;83&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key2 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(83)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>S<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>HIHAT<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;68&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key3 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(68)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>D<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>KICK<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;70&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key4 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(70)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>F<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>OPENHAP<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;71&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key5 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(71)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>G<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>BOOM<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;72&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key6 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(72)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>H<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>RIDE<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;74&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key7 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(74)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>J<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>SNARE<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;75&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key7 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(75)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>K<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>TOM<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">&quot;76&quot;</span> <span class="attr">class</span>=<span class="string">&quot;key7 key&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickPlaySound(76)&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-ABC&quot;</span>&gt;</span>L<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;key-tune&quot;</span>&gt;</span>TINK<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;65&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/clap.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;83&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/hihat.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;68&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/kick.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;70&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/openhat.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;71&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/boom.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;72&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/ride.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;74&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/snare.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;75&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/tom.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">&quot;76&quot;</span> <span class="attr">src</span>=<span class="string">&quot;sounds/tink.wav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>二、css代码</p>
<p>1 实现顶部的切换组块（Drum Kit, Piano Kit)固定在窗口的某个位置，不占位置，脱离标准文档流；居中排布</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">position</span>: fixed;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;  </span><br><span class="line"><span class="attribute">right</span>:<span class="number">0</span>;  </span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span> auto; </span><br></pre></td></tr></table></figure>

<p>2 实现琴键居中排布：用Flex 布局实现垂直、水平居中。</p>
<p>任何一个容器都可以指定为 Flex 布局（flex容器），display: flex即可实现。采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称”Item”。</p>
<p>容器具有6个属性：</p>
<p>· flex-direction:水平主轴的方向</p>
<p>· flex-wrap:如果主轴拍不下，可以用这个属性来设置换行的形式</p>
<p>· flex-flow:合并了flex-direction 和flex-wrap的功能，用这个属性可以同时设置这两个属性。</p>
<p>· justify-content:定义了item在主轴（水平方向上）的对齐方式</p>
<p>·align-items：定义了item在垂直方向上的对齐方式</p>
<p>· align-content：定义了多跟轴线的对齐方式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#drumKit</span>,<span class="selector-id">#pianoKit</span>&#123;</span><br><span class="line">    <span class="comment">/* background-color: red; */</span></span><br><span class="line">    <span class="comment">/* 在需要垂直居中的父元素上，设置display:flex和align-items：center。要求：父元素必须显示设置height值 */</span></span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">90vh</span>; <span class="comment">/*vh 就是当前屏幕可见高度的100% 		</span></span><br><span class="line"><span class="comment">    align-items: center; /*子元素水平居中*/</span></span><br><span class="line">    <span class="attribute">justify-content</span>: center; <span class="comment">/*子元素垂直居中*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>90vh表示占窗口（当前页面窗口）大小的90%。</p>
<p>3 键盘被点击时，js会添加playing类，其css布局为</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.playing</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span> <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4 drum kit 和piano kit被选中时，js会添加chosen类名。设置css代码让选中字体变为白色以区分</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#switch</span> <span class="selector-class">.chosen</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>三、 javascript代码</p>
<p>1 切换键盘(drum kit, piano kit)</p>
<p>对于drum kit：点击drum，添加.chosen，同时去掉piano kit 的.chosen类名；显示drum琴键，隐藏piano琴键；显示响应背景background-image。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击a标签，切换键盘:点击piano键盘，添加chosen class，去掉drum的class; 显示对应的piano键盘;在对应的键盘中添加chosen，这样audio也可以对应</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">addChosen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">const</span> chosen =  <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;piano&quot;</span>);</span><br><span class="line">       <span class="keyword">const</span> notChosen = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;drum&quot;</span>);</span><br><span class="line">       chosen[<span class="number">0</span>].classList.add(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       notChosen[<span class="number">0</span>].classList.remove(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       <span class="keyword">const</span> notChosenKit = <span class="built_in">document</span>.getElementById(<span class="string">&quot;drumKit&quot;</span>);</span><br><span class="line">       notChosenKit.classList.remove(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       notChosenKit.style.display = <span class="string">&quot;none&quot;</span>; </span><br><span class="line">       <span class="keyword">const</span> chosenKit = <span class="built_in">document</span>.getElementById(<span class="string">&quot;pianoKit&quot;</span>);</span><br><span class="line">       chosenKit.style.display = <span class="string">&quot;flex&quot;</span>;</span><br><span class="line">       chosenKit.classList.add(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       <span class="comment">// 换钢琴壁纸</span></span><br><span class="line">       <span class="keyword">const</span> wallpaper = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;html&quot;</span>);</span><br><span class="line">       wallpaper[<span class="number">0</span>].style.backgroundImage=<span class="string">&quot;url(./pianoback.jpg)&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">addChosenDrum</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">const</span> chosen =  <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;drum&quot;</span>);</span><br><span class="line">       <span class="keyword">const</span> notChosen = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;piano&quot;</span>);</span><br><span class="line">       chosen[<span class="number">0</span>].classList.add(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       notChosen[<span class="number">0</span>].classList.remove(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       <span class="keyword">const</span> notChosenKit = <span class="built_in">document</span>.getElementById(<span class="string">&quot;pianoKit&quot;</span>);</span><br><span class="line">       notChosenKit.classList.remove(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       notChosenKit.style.display = <span class="string">&quot;none&quot;</span>; </span><br><span class="line">       <span class="keyword">const</span> chosenKit = <span class="built_in">document</span>.getElementById(<span class="string">&quot;drumKit&quot;</span>);</span><br><span class="line">       chosenKit.style.display = <span class="string">&quot;flex&quot;</span>;</span><br><span class="line">       chosenKit.classList.add(<span class="string">&#x27;chosen&#x27;</span>);</span><br><span class="line">       <span class="comment">// 换鼓壁纸</span></span><br><span class="line">       <span class="keyword">const</span> wallpaper = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;html&quot;</span>);</span><br><span class="line">       wallpaper[<span class="number">0</span>].style.backgroundImage=<span class="string">&quot;url(./drumback.jpg)&quot;</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>2 键盘敲击琴键，用keycode标注，给对应琴键添加.playing类名。设置audio.play发出音效。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击键盘字母时，对应的键添加class属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">playSound</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">`.chosen audio[data-key=&quot;<span class="subst">$&#123;e.keyCode&#125;</span>&quot;]`</span>);</span><br><span class="line">    <span class="comment">// console.log(audio);</span></span><br><span class="line">    <span class="keyword">if</span> (!audio) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`.chosen div[data-key=&quot;<span class="subst">$&#123;e.keyCode&#125;</span>&quot;]`</span>);</span><br><span class="line">    key.classList.add(<span class="string">&#x27;playing&#x27;</span>);<span class="comment">//添加playing类属性</span></span><br><span class="line">    audio.currentTime = <span class="number">0</span>; <span class="comment">//音频重头播放</span></span><br><span class="line"></span><br><span class="line">    audio.play();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 如果连续敲击多个琴键，多个琴键都会显示过渡特效（黄色Border,放大1.2倍），为了让最后一个琴键之前的琴键过滤样式去掉，可以利用transitionend事件，让已经过渡的琴键去掉.playing类名。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 去掉playing 类属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeTransition</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.propertyName !=<span class="string">&#x27;transform&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">this</span>.classList.remove(<span class="string">&#x27;playing&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> keys = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.key&#x27;</span>);</span><br><span class="line">keys.forEach(<span class="function"><span class="params">key</span>=&gt;</span>key.addEventListener(<span class="string">&#x27;transitionend&#x27;</span>,removeTransition));</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;keydown&#x27;</span>,playSound);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4 鼠标点击也可以实现琴键发出音效。设置onclick事件，传入keycode参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clickPlaySound</span>(<span class="params">keycode</span>)</span>&#123;</span><br><span class="line">       <span class="comment">// data-key=keycode;</span></span><br><span class="line">       <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">`.chosen audio[data-key=&quot;<span class="subst">$&#123;keycode&#125;</span>&quot;]`</span>);</span><br><span class="line">       <span class="keyword">if</span> (!audio) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`.chosen div[data-key=&quot;<span class="subst">$&#123;keycode&#125;</span>&quot;]`</span>);</span><br><span class="line">       key.classList.add(<span class="string">&#x27;playing&#x27;</span>);<span class="comment">//添加playing类属性</span></span><br><span class="line">       audio.currentTime = <span class="number">0</span>; <span class="comment">//音频重头播放</span></span><br><span class="line">       audio.play();</span><br><span class="line">       <span class="comment">// console.log(audio);</span></span><br><span class="line">   &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>完整代码放在了<a target="_blank" rel="noopener" href="https://github.com/janice143/musicKit.github.io.git">Github</a>上，如果读者有兴趣，不妨试一试。</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/page/2/">上一页</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/page/4/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/">1</a></li><li><a class="pagination-link" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/page/2/">2</a></li><li><a class="pagination-link is-current" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/myblog.github.io/img/avatar.png" alt="iaine"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">iaine</p><p class="is-size-6 is-block">Explorer.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Mars.</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/myblog.github.io/archives"><p class="title">52</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/myblog.github.io/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/myblog.github.io/tags"><p class="title">10</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/janice143?tab=repositories" target="_blank" rel="noopener">关注我</a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/myblog.github.io/categories/30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">30个原生javascript项目</span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li><li><a class="level is-mobile" href="/myblog.github.io/categories/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/myblog.github.io/categories/ejs-js/"><span class="level-start"><span class="level-item">ejs.js</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/myblog.github.io/categories/js/"><span class="level-start"><span class="level-item">js</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/myblog.github.io/categories/node-js/"><span class="level-start"><span class="level-item">node.js</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/myblog.github.io/categories/vue/"><span class="level-start"><span class="level-item">vue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/myblog.github.io/categories/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/"><span class="level-start"><span class="level-item">前端面试基础</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-08-17T11:10:27.000Z">2022-08-17</time></p><p class="title"><a href="/myblog.github.io/2022/08/17/git-%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C%E6%B5%81%E7%A8%8B/">git 多人协作流程</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-21T07:12:49.000Z">2022-06-21</time></p><p class="title"><a href="/myblog.github.io/2022/06/21/%E8%AE%B0%E5%BD%95%E7%AC%AC%E4%B8%80%E6%AC%A1vue-nodejs-mongodb%E9%A1%B9%E7%9B%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2/">记录第一次vue-nodejs-mongodb项目服务器部署</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-26T06:49:41.000Z">2022-05-26</time></p><p class="title"><a href="/myblog.github.io/2022/05/26/%E3%80%90%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95-JS%E3%80%91%E5%9F%BA%E7%A1%80%E9%9D%A2%E8%AF%95%E9%A2%98/">【前端面试-JS】基础面试题</a></p><p class="categories"><a href="/myblog.github.io/categories/js/">js</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-20T02:30:30.000Z">2022-05-20</time></p><p class="title"><a href="/myblog.github.io/2022/05/20/%E3%80%90%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95-VUE%E3%80%91VUE%E5%90%88%E9%9B%86/">【前端面试-VUE】VUE合集</a></p><p class="categories"><a href="/myblog.github.io/categories/vue/">vue</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-04T13:56:41.000Z">2022-05-04</time></p><p class="title"><a href="/myblog.github.io/2022/05/04/%E3%80%90nodejs%E3%80%91%E5%9F%BA%E4%BA%8EEJS+Node.js+MongoDB%E7%9A%84%E5%85%A8%E6%A0%88%E7%94%B5%E5%95%86%E5%B9%B3%E5%8F%B0%EF%BC%88%E5%85%A8%E8%8B%B1%E6%96%87%EF%BC%89/">【nodejs】基于EJS+Node.js+MongoDB的全栈电商平台（全英文）</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/CSS/"><span class="tag">CSS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/HTML/"><span class="tag">HTML</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/JS30-30%E4%B8%AA%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/"><span class="tag">JS30;30个原生javascript项目</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/JavaScript%E7%9F%A5%E8%AF%86%E7%82%B9/"><span class="tag">JavaScript知识点</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/Node-js/"><span class="tag">Node.js</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/ejs-js/"><span class="tag">ejs.js</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/js/"><span class="tag">js</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/vuejs/"><span class="tag">vuejs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/myblog.github.io/tags/%E5%8E%9F%E7%94%9Fjavascript%E9%A1%B9%E7%9B%AE/"><span class="tag">原生javascript项目</span><span class="tag">27</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/myblog.github.io/">Iaine&#039;s page</a><p class="is-size-7"><span>&copy; 2022 iaine</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>
                            	var now = new Date();
                                function createtime() {
                                        var grt= new Date("9/1/2020 16:23:00");//此处修改你的建站时间或者网站上线时间
                                    now.setTime(now.getTime()+250);
                                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
                                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
                                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
                                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
                                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
                                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
                                    document.getElementById("timeDate").innerHTML = "| 本站已运行 "+dnum+" 天 ";
                                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
                                }
                                setInterval("createtime()",250);
                            		</script></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/myblog.github.io/js/column.js"></script><script src="/myblog.github.io/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/myblog.github.io/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/myblog.github.io/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/myblog.github.io/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/myblog.github.io/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>